{"remainingRequest":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/drkprdx/Documentos/sitios/sgo/app-sgo/src/views/Usuarios.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/src/views/Usuarios.vue","mtime":1593601654919},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgdG9nZ2xlX2V4Y2x1c2l2ZTogdW5kZWZpbmVkLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2dQdWVzdG9zOiBmYWxzZSwKICAgICAgaGVhZGVyczogWwogICAgICAgICAgewogICAgICAgICAgICAgIHRleHQ6ICdpZFVzdWFyaW8nLAogICAgICAgICAgICAgIGFsaWduOiAnc3RhcnQnLAogICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICB2YWx1ZTogJ2lkVXN1YXJpbycsCiAgICAgICAgICB9LAogICAgICAgICAgeyB0ZXh0OiAnTm9tYnJlJywgdmFsdWU6ICdOb21icmVVc3VhcmlvJyB9LAogICAgICAgICAgeyB0ZXh0OiAnQXBlbGxpZG8nLCB2YWx1ZTogJ0FwZWxsaWRvVXN1YXJpbycgfSwKICAgICAgICAgIHsgdGV4dDogJ1B1ZXN0bycsIHZhbHVlOiAnaWRQdWVzdG8nIH0sCiAgICAgICAgICB7IHRleHQ6ICdDb3JyZW8nLCB2YWx1ZTogJ0NvcnJlb1VzdWFyaW8nIH0sCiAgICAgICAgICB7IHRleHQ6ICdSb2wnLCB2YWx1ZTogJ2lkUm9sJyB9LAogICAgICAgICAgeyB0ZXh0OiAnRXN0YWRvJywgdmFsdWU6ICdFc3RhZG9Vc3VhcmlvJyB9LAogICAgICAgICAgeyB0ZXh0OiAnQWN0aW9ucycsIHZhbHVlOiAnYWN0aW9ucycsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgICAgXSwKICAgICAgZGF0b3NUYWJsYTogW10sCiAgICAgIHNlbGVjdDogW10sCiAgICAgIGRhdG9zUHVlc3RvczogW10sCiAgICAgIGRhdG9zUm9sZXM6IFtdLAogICAgICBkYXRvc0VzdGFkb1VzdWFyaW86IFt7CiAgICAgICAgaWRFc3RhZG9Vc3VhcmlvOiAxLAogICAgICAgIE5vbWJyZUVzdGFkb1VzdWFyaW86ICdBY3Rpdm8nCiAgICAgIH0sCiAgICAgIHsKICAgICAgICBpZEVzdGFkb1VzdWFyaW86IDAsCiAgICAgICAgTm9tYnJlRXN0YWRvVXN1YXJpbzogJ0luYWN0aXZvJwogICAgICB9XSwKICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICBpZFVzdWFyaW9FZGl0YXI6IDAsCiAgICAgIGVkaXRhckNvcnJlbzogZmFsc2UsCiAgICAgIGVzdGFkb0hhYmlsaXRhZG86IHRydWUsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICAgIE5vbWJyZVVzdWFyaW86ICcnLAogICAgICAgICAgQXBlbGxpZG9Vc3VhcmlvOiAnJywKICAgICAgICAgIENvcnJlb1VzdWFyaW86ICcnLAogICAgICAgICAgaWRQdWVzdG86ICcnLAogICAgICAgICAgQ29udHJhc2VuaWFVc3VhcmlvOiAnJywKICAgICAgICAgIGlkUm9sOiAnJywKICAgICAgICAgIEVzdGFkb1VzdWFyaW86IDEsCiAgICAgIH0sCiAgICAgIGRlZmF1bHRJdGVtOiB7CiAgICAgICAgICBOb21icmVVc3VhcmlvOiAnJywKICAgICAgICAgIEFwZWxsaWRvVXN1YXJpbzogJycsCiAgICAgICAgICBDb3JyZW9Vc3VhcmlvOiAnJywKICAgICAgICAgIGlkUHVlc3RvOiAnJywKICAgICAgICAgIENvbnRyYXNlbmlhVXN1YXJpbzogJycsCiAgICAgICAgICBpZFJvbDogJycsCiAgICAgICAgICBFc3RhZG9Vc3VhcmlvOiAxLAogICAgICB9LAogICAgICBudWV2b1B1ZXN0bzogewogICAgICAgICAgTm9tYnJlUHVlc3RvOiAnJywKICAgICAgICAgIEVzdGFkb1B1ZXN0bzogMSwKICAgICAgfSwKICAgICAgZGVmYXVsdG51ZXZvUHVlc3RvOiB7CiAgICAgICAgICBOb21icmVQdWVzdG86ICcnLAogICAgICAgICAgRXN0YWRvUHVlc3RvOiAxLAogICAgICB9LAogICAgfSksCgogICAgY29tcHV0ZWQ6IHsKICAgICAgZm9ybVRpdGxlICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICdOdWV2byB1c3VhcmlvJyA6ICdFZGl0YXIgdXN1YXJpbycKICAgICAgfSwKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZGlhbG9nICh2YWwpIHsKICAgICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgICAgfSwKICAgIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgaW5pdGlhbGl6ZSAoKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldCgiaHR0cDovL2xvY2FsaG9zdC9zZ28vYXBpLXNnby9wdWJsaWMvdXN1YXJpb3MiKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnRvdGFsICE9IDApewogICAgICAgICAgICAgICAgICB0aGlzLmRhdG9zVGFibGEgPSByZXNwb25zZS5kYXRhLmRldGFsbGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KQogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldCgiaHR0cDovL2xvY2FsaG9zdC9zZ28vYXBpLXNnby9wdWJsaWMvcHVlc3RvcyIpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEudG90YWwgIT0gMCl7CiAgICAgICAgICAgICAgICAgIHRoaXMuZGF0b3NQdWVzdG9zID0gcmVzcG9uc2UuZGF0YS5kZXRhbGxlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3JvbGVzIikKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS50b3RhbCAhPSAwKXsKICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvc1JvbGVzID0gcmVzcG9uc2UuZGF0YS5kZXRhbGxlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgfSwKCiAgICAgIGVkaXRhclVzdWFyaW8gKGl0ZW0sIGlkVXN1YXJpbyl7CiAgICAgICAgdGhpcy5pZFVzdWFyaW9FZGl0YXIgPSBpZFVzdWFyaW8KICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy5kYXRvc1RhYmxhLmluZGV4T2YoaXRlbSkKICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQogICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpewogICAgICAgICAgdGhpcy5lZGl0YXJDb3JyZW8gPSB0cnVlCiAgICAgICAgICB0aGlzLmVzdGFkb0hhYmlsaXRhZG8gPSBmYWxzZQogICAgICAgIH1lbHNlewogICAgICAgICAgdGhpcy5lZGl0YXJDb3JyZW8gPSBmYWxzZQogICAgICAgICAgdGhpcy5lc3RhZG9IYWJpbGl0YWRvID0gdHJ1ZQogICAgICAgIH0KICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgfSwKCiAgICAgIGVsaW1pbmFyVXN1YXJpbyhpZCl7CiAgICAgICAgY29uZmlybSgnwr9Fc3TDoSBzZWd1cm8gcXVlIGRlc2VhIGVsaW1pbmFyIGVzdGUgdXN1YXJpbz8nKSAmJiBheGlvcwogICAgICAgICAgICAuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0L3Nnby9hcGktc2dvL3B1YmxpYy91c3Vhcmlvcy8iICsgaWQpCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgfSwKCiAgICAgIGd1YXJkYXJJbmZvcm1hY2lvbiAoKSB7CiAgICAgICAgLy8gU2kgZWwgdmFsb3IgZGVsIMOtbmRpY2UgZGUgZWRpY2nDs24gZXMgbWF5b3IgYWwgcXVlIHNlIGVzdMOhIGVkaXRhbmRvIGVudG9uY2VzIAogICAgICAgIGlmICh0aGlzLmVkaXRlZEluZGV4ID4gLTEpIHsKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5wdXQoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3VzdWFyaW9zLyIgKyB0aGlzLmlkVXN1YXJpb0VkaXRhciwKICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3VzdWFyaW9zIiwKICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAvL3RoaXMuaW5pdGlhbGl6ZSgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgdGhpcy5pbml0aWFsaXplKCkKICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgfSwKCiAgICAgIGd1YXJkYXJQdWVzdG8gKCl7CiAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3B1ZXN0b3MiLAogICAgICAgICAgICAgICAgICAgdGhpcy5udWV2b1B1ZXN0bykKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIC8vdGhpcy5pbml0aWFsaXplKCkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KQogICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICAgICAgdGhpcy5jZXJyYXJEaWFsb2dQdWVzdG8oKQogICAgICB9LAoKICAgICAgY2VycmFyRGlhbG9nUHVlc3RvICgpewogICAgICAgIHRoaXMuZGlhbG9nUHVlc3RvcyA9IGZhbHNlCiAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLm51ZXZvUHVlc3RvID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0bnVldm9QdWVzdG8pCiAgICAgICAgICB9KQogICAgICB9LAoKICAgICAgY2xvc2UgKCkgewogICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKQogICAgICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTEKICAgICAgICAgICAgdGhpcy5pZFVzdWFyaW9FZGl0YXIgPSAwCiAgICAgICAgICB9KQogICAgICB9LAogICAgfSwKfQo="},{"version":3,"sources":["Usuarios.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Usuarios.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"datosTabla\"\n    :items-per-page=\"5\"\n    sort-by=\"NombreUsuario\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title>Usuarios</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >Nuevo usuario</v-btn>\n            <v-btn\n              text\n              @click=\"initialize\">\n              <v-icon>\n                mdi-reload\n              </v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field v-model=\"editedItem.NombreUsuario\" label=\"Nombre\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field v-model=\"editedItem.ApellidoUsuario\" label=\"Apellido\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field v-model=\"editedItem.CorreoUsuario\" :disabled=\"editarCorreo\" label=\"Correo\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-text-field v-model=\"editedItem.ContraseniaUsuario\" label=\"Contraseña\"></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"12\" md=\"12\">\n                    <v-btn-toggle\n                        v-model=\"toggle_exclusive\"\n                        group\n                        multiple>\n                            <v-select  \n                              :items=\"datosPuestos\"\n                              item-text='NombrePuesto'\n                              item-value='idPuesto'\n                              v-model=\"editedItem.idPuesto\"\n                              label=\"Puesto\"\n                              required>\n                            </v-select>\n                            <v-btn\n                              text\n                              @click=\"dialogPuestos = !dialogPuestos\">\n                                <v-icon>\n                                mdi-plus\n                                </v-icon>\n                            </v-btn>\n                      </v-btn-toggle>\n                  </v-col>\n                  <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-select  \n                        :items=\"datosRoles\"\n                        item-text='NombreRol'\n                        item-value='idRol'\n                        v-model=\"editedItem.idRol\"\n                        label=\"Rol\"\n                        required>\n                    </v-select>\n                  </v-col>\n                   <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                    <v-select  \n                        :items=\"datosEstadoUsuario\"\n                        item-text='NombreEstadoUsuario'\n                        item-value='idEstadoUsuario'\n                        v-model=\"editedItem.EstadoUsuario\"\n                        :disabled=\"estadoHabilitado\"\n                        label=\"Estado\"\n                        required>\n                    </v-select>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\">Cancelar</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"guardarInformacion\">Guardar</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogPuestos\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">Nuevo puesto</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-form>\n                <v-container>\n                  <v-row\n                    align=\"center\"\n                    justify=\"center\">\n                    <v-col cols=\"12\">\n                      <v-text-field\n                        v-model=\"nuevoPuesto.NombrePuesto\"\n                        label=\"Nombre\"\n                        required>\n                      </v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-form>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"cerrarDialogPuesto\">Cancelar</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"guardarPuesto\">Guardar</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editarUsuario(item, item.idUsuario)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        small\n        disabled\n        @click=\"eliminarUsuario(item.idUsuario)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n  </v-data-table>\n</template>\n        \n<script>\n\n    import axios from \"axios\";\n\n    export default {\n        data: () => ({\n          toggle_exclusive: undefined,\n          dialog: false,\n          dialogPuestos: false,\n          headers: [\n              {\n                  text: 'idUsuario',\n                  align: 'start',\n                  sortable: false,\n                  value: 'idUsuario',\n              },\n              { text: 'Nombre', value: 'NombreUsuario' },\n              { text: 'Apellido', value: 'ApellidoUsuario' },\n              { text: 'Puesto', value: 'idPuesto' },\n              { text: 'Correo', value: 'CorreoUsuario' },\n              { text: 'Rol', value: 'idRol' },\n              { text: 'Estado', value: 'EstadoUsuario' },\n              { text: 'Actions', value: 'actions', sortable: false },\n              ],\n          datosTabla: [],\n          select: [],\n          datosPuestos: [],\n          datosRoles: [],\n          datosEstadoUsuario: [{\n            idEstadoUsuario: 1,\n            NombreEstadoUsuario: 'Activo'\n          },\n          {\n            idEstadoUsuario: 0,\n            NombreEstadoUsuario: 'Inactivo'\n          }],\n          editedIndex: -1,\n          idUsuarioEditar: 0,\n          editarCorreo: false,\n          estadoHabilitado: true,\n          editedItem: {\n              NombreUsuario: '',\n              ApellidoUsuario: '',\n              CorreoUsuario: '',\n              idPuesto: '',\n              ContraseniaUsuario: '',\n              idRol: '',\n              EstadoUsuario: 1,\n          },\n          defaultItem: {\n              NombreUsuario: '',\n              ApellidoUsuario: '',\n              CorreoUsuario: '',\n              idPuesto: '',\n              ContraseniaUsuario: '',\n              idRol: '',\n              EstadoUsuario: 1,\n          },\n          nuevoPuesto: {\n              NombrePuesto: '',\n              EstadoPuesto: 1,\n          },\n          defaultnuevoPuesto: {\n              NombrePuesto: '',\n              EstadoPuesto: 1,\n          },\n        }),\n\n        computed: {\n          formTitle () {\n              return this.editedIndex === -1 ? 'Nuevo usuario' : 'Editar usuario'\n          },\n        },\n\n        watch: {\n          dialog (val) {\n              val || this.close()\n          },\n        },\n\n        created () {\n          this.initialize()\n        },\n\n        methods: {\n          initialize () {\n            axios\n                .get(\"http://localhost/sgo/api-sgo/public/usuarios\")\n                .then(response => {\n                    if(response.data.total != 0){\n                      this.datosTabla = response.data.detalle\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n              axios\n                .get(\"http://localhost/sgo/api-sgo/public/puestos\")\n                .then(response => {\n                    if(response.data.total != 0){\n                      this.datosPuestos = response.data.detalle\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n              axios\n                .get(\"http://localhost/sgo/api-sgo/public/roles\")\n                .then(response => {\n                    if(response.data.total != 0){\n                      this.datosRoles = response.data.detalle\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n          },\n\n          editarUsuario (item, idUsuario){\n            this.idUsuarioEditar = idUsuario\n            this.editedIndex = this.datosTabla.indexOf(item)\n            this.editedItem = Object.assign({}, item)\n            if (this.editedIndex > -1){\n              this.editarCorreo = true\n              this.estadoHabilitado = false\n            }else{\n              this.editarCorreo = false\n              this.estadoHabilitado = true\n            }\n            this.dialog = true\n          },\n\n          eliminarUsuario(id){\n            confirm('¿Está seguro que desea eliminar este usuario?') && axios\n                .delete(\"http://localhost/sgo/api-sgo/public/usuarios/\" + id)\n                .then(function (response) {\n                    //console.log(response);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n          },\n\n          guardarInformacion () {\n            // Si el valor del índice de edición es mayor al que se está editando entonces \n            if (this.editedIndex > -1) {\n              axios\n                .put(\"http://localhost/sgo/api-sgo/public/usuarios/\" + this.idUsuarioEditar,\n                     this.editedItem)\n                .then(function (response) {\n                    //console.log(response);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            } else {\n              axios\n                .post(\"http://localhost/sgo/api-sgo/public/usuarios\",\n                       this.editedItem)\n                .then(function (response) {\n                    console.log(response);\n                    //this.initialize()\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            }\n            this.initialize()\n            this.close()\n          },\n\n          guardarPuesto (){\n            axios\n                .post(\"http://localhost/sgo/api-sgo/public/puestos\",\n                       this.nuevoPuesto)\n                .then(function (response) {\n                    //console.log(response);\n                    //this.initialize()\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            this.initialize()\n            this.cerrarDialogPuesto()\n          },\n\n          cerrarDialogPuesto (){\n            this.dialogPuestos = false\n            this.dialog = false\n              this.$nextTick(() => {\n                this.nuevoPuesto = Object.assign({}, this.defaultnuevoPuesto)\n              })\n          },\n\n          close () {\n              this.dialog = false\n              this.$nextTick(() => {\n                this.editedItem = Object.assign({}, this.defaultItem)\n                this.editedIndex = -1\n                this.idUsuarioEditar = 0\n              })\n          },\n        },\n    }\n</script>"]}]}