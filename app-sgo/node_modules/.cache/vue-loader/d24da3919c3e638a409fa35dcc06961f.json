{"remainingRequest":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/drkprdx/Documentos/sitios/sgo/app-sgo/src/views/Productos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/src/views/Productos.vue","mtime":1593600213768},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/drkprdx/Documentos/sitios/sgo/app-sgo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YTogKCkgPT4gKHsKICAgICAgdG9nZ2xlX2V4Y2x1c2l2ZTogdW5kZWZpbmVkLAogICAgICBkaWFsb2c6IGZhbHNlLAogICAgICBkaWFsb2dVbmlkYWRNZWRpZGE6IGZhbHNlLAogICAgICBoZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgdGV4dDogJ2lkUHJvZHVjdG8nLAogICAgICAgICAgYWxpZ246ICdzdGFydCcsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogJ2lkUHJvZHVjdG8nLAogICAgICAgIH0sCiAgICAgICAgeyB0ZXh0OiAnQ8OzZGlnbycsIHZhbHVlOiAnQ29kaWdvUHJvZHVjdG8nIH0sCiAgICAgICAgeyB0ZXh0OiAnTm9tYnJlIGRlbCBwcm9kdWN0bycsIHZhbHVlOiAnTm9tYnJlUHJvZHVjdG8nIH0sCiAgICAgICAgeyB0ZXh0OiAnVW5pZGFkIGRlIG1lZGlkYScsIHZhbHVlOiAnaWRVbmlkYWRNZWRpZGEnIH0sCiAgICAgICAgeyB0ZXh0OiAnRXN0YWRvJywgdmFsdWU6ICdFc3RhZG9Qcm9kdWN0bycgfSwKICAgICAgICB7IHRleHQ6ICdBY3Rpb25zJywgdmFsdWU6ICdhY3Rpb25zJywgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgIF0sCiAgICAgIGRhdG9zVGFibGE6IFtdLAogICAgICBzZWxlY3Q6IFtdLAogICAgICBkYXRvc1VuaWRhZE1lZGlkYTogW10sCiAgICAgIGRhdG9zRXN0YWRvUHJvZHVjdG86IFt7CiAgICAgICAgaWRFc3RhZG9Qcm9kdWN0bzogMSwKICAgICAgICBOb21icmVFc3RhZG9Qcm9kdWN0bzogJ0FjdGl2bycKICAgICAgfSwKICAgICAgewogICAgICAgIGlkRXN0YWRvUHJvZHVjdG86IDAsCiAgICAgICAgTm9tYnJlRXN0YWRvUHJvZHVjdG86ICdJbmFjdGl2bycKICAgICAgfV0sCiAgICAgIGVkaXRlZEluZGV4OiAtMSwKICAgICAgaWRQcm9kdWN0b0VkaXRhcjogMCwKICAgICAgZWRpdGFyQ29kaWdvOiBmYWxzZSwKICAgICAgZWRpdGVkSXRlbTogewogICAgICAgICAgQ29kaWdvUHJvZHVjdG86ICcnLAogICAgICAgICAgTm9tYnJlUHJvZHVjdG86ICcnLAogICAgICAgICAgaWRVbmlkYWRNZWRpZGE6ICcnLAogICAgICAgICAgRXN0YWRvUHJvZHVjdG86ICcnLAogICAgICB9LAogICAgICBkZWZhdWx0SXRlbTogewogICAgICAgICAgQ29kaWdvUHJvZHVjdG86ICcnLAogICAgICAgICAgTm9tYnJlUHJvZHVjdG86ICcnLAogICAgICAgICAgaWRVbmlkYWRNZWRpZGE6ICcnLAogICAgICAgICAgRXN0YWRvUHJvZHVjdG86ICcnLAogICAgICB9LAogICAgICBudWV2b1VNOiB7CiAgICAgICAgICBOb21icmVVbmlkYWRNZWRpZGE6ICcnLAogICAgICAgICAgQWJyZXZpYWNpb25VbmlkYWRNZWRpZGE6ICcnLAogICAgICB9LAogICAgICBkZWZhdWx0TnVldm9VTTogewogICAgICAgICAgTm9tYnJlVW5pZGFkTWVkaWRhOiAnJywKICAgICAgICAgIEFicmV2aWFjaW9uVW5pZGFkTWVkaWRhOiAnJywKICAgICAgfSwKICAgIH0pLAoKICAgIGNvbXB1dGVkOiB7CiAgICAgIGZvcm1UaXRsZSAoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5lZGl0ZWRJbmRleCA9PT0gLTEgPyAnTnVldm8gcHJvZHVjdG8nIDogJ0VkaXRhciBwcm9kdWN0bycKICAgICAgfSwKICAgIH0sCgogICAgd2F0Y2g6IHsKICAgICAgZGlhbG9nICh2YWwpIHsKICAgICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlKCkKICAgICAgfSwKICAgIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgaW5pdGlhbGl6ZSAoKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldCgiaHR0cDovL2xvY2FsaG9zdC9zZ28vYXBpLXNnby9wdWJsaWMvcHJvZHVjdG9zIikKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS50b3RhbCAhPSAwKXsKICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvc1RhYmxhID0gcmVzcG9uc2UuZGF0YS5kZXRhbGxlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgIC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3VuaWRhZGVzbWVkaWRhIikKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS50b3RhbCAhPSAwKXsKICAgICAgICAgICAgICAgICAgdGhpcy5kYXRvc1VuaWRhZE1lZGlkYSA9IHJlc3BvbnNlLmRhdGEuZGV0YWxsZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pCiAgICAgIH0sCgogICAgICBlZGl0YXJQcm9kdWN0byAoaXRlbSwgaWRQcm9kdWN0byl7CiAgICAgICAgdGhpcy5pZFByb2R1Y3RvRWRpdGFyID0gaWRQcm9kdWN0bwogICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSB0aGlzLmRhdG9zVGFibGEuaW5kZXhPZihpdGVtKQogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSl7CiAgICAgICAgICB0aGlzLmVkaXRhckNvZGlnbyA9IHRydWUKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMuZWRpdGFyQ29kaWdvID0gZmFsc2UKICAgICAgICB9CiAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICAgIH0sCgogICAgICBlbGltaW5hclByb2R1Y3RvKGlkKXsKICAgICAgICBjb25maXJtKCfCv0VzdMOhIHNlZ3VybyBxdWUgZGVzZWEgZWxpbWluYXIgZXN0ZSBwcm9kdWN0bz8nKSAmJiBheGlvcwogICAgICAgICAgICAuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0L3Nnby9hcGktc2dvL3B1YmxpYy9wcm9kdWN0b3MvIiArIGlkKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pCiAgICAgIH0sCgogICAgICBndWFyZGFyUHJvZHVjdG8gKCkgewogICAgICAgIC8vIFNpIGVsIHZhbG9yIGRlbCDDrW5kaWNlIGRlIGVkaWNpw7NuIGVzIG1heW9yIGFsIHF1ZSBzZSBlc3TDoSBlZGl0YW5kbyBlbnRvbmNlcyAKICAgICAgICBpZiAodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgICBheGlvcwogICAgICAgICAgICAucHV0KCJodHRwOi8vbG9jYWxob3N0L3Nnby9hcGktc2dvL3B1YmxpYy9wcm9kdWN0b3MvIiArIHRoaXMuaWRQcm9kdWN0b0VkaXRhciwKICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3Byb2R1Y3RvcyIsCiAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEl0ZW0pCiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAvL3RoaXMuaW5pdGlhbGl6ZSgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgdGhpcy5pbml0aWFsaXplKCkKICAgICAgICB0aGlzLmNsb3NlKCkKICAgICAgfSwKCiAgICAgIGd1YXJkYXJVbmlkYWRNZWRpZGEgKCl7CiAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Qvc2dvL2FwaS1zZ28vcHVibGljL3VuaWRhZGVzbWVkaWRhIiwKICAgICAgICAgICAgICAgICAgIHRoaXMubnVldm9VTSkKICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIC8vdGhpcy5pbml0aWFsaXplKCkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9KQogICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICAgICAgdGhpcy5jZXJyYXJEaWFsb2dVTSgpCiAgICAgIH0sCgogICAgICBjZXJyYXJEaWFsb2dVTSAoKXsKICAgICAgICB0aGlzLmRpYWxvZ1VuaWRhZE1lZGlkYSA9IGZhbHNlCiAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZQogICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLm51ZXZvVU0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHROdWV2b1VNKQogICAgICAgICAgfSkKICAgICAgfSwKCiAgICAgIGNsb3NlICgpIHsKICAgICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5kZWZhdWx0SXRlbSkKICAgICAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IC0xCiAgICAgICAgICAgIHRoaXMuaWRQcm9kdWN0b0VkaXRhciA9IDAKICAgICAgICAgIH0pCiAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["Productos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Productos.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"datosTabla\"\n    :items-per-page=\"5\"\n    sort-by=\"NombreProducto\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title>Productos</v-toolbar-title>\n        <v-divider\n          class=\"mx-4\"\n          inset\n          vertical\n        ></v-divider>\n        <v-spacer></v-spacer>\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\n          <template v-slot:activator=\"{ on, attrs }\">\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              v-bind=\"attrs\"\n              v-on=\"on\"\n            >Nuevo producto</v-btn>\n            <v-btn\n              text\n              small\n              @click=\"initialize\">\n              <v-icon>\n                mdi-reload\n              </v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">{{ formTitle }}</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-form>\n                <v-container>\n                  <v-row\n                    align=\"center\"\n                    justify=\"center\">\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        v-model=\"editedItem.CodigoProducto\"\n                        :disabled=\"editarCodigo\"\n                        label=\"Código\"\n                        required>\n                      </v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        v-model=\"editedItem.NombreProducto\"\n                        label=\"Nombre producto\"\n                        required>\n                      </v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-btn-toggle\n                        v-model=\"toggle_exclusive\"\n                        group\n                        multiple>\n                        <v-select  \n                          :items=\"datosUnidadMedida\"\n                          item-text='NombreUnidadMedida'\n                          item-value='idUnidadMedida'\n                          v-model=\"editedItem.idUnidadMedida\"\n                          label=\"UnidadMedida\"\n                          required>\n                        </v-select>\n                        <v-btn\n                          text\n                          @click=\"dialogUnidadMedida = !dialogUnidadMedida\">\n                            <v-icon>\n                            mdi-plus\n                            </v-icon>\n                        </v-btn>\n                      </v-btn-toggle>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-select  \n                          :items=\"datosEstadoProducto\"\n                          item-text='NombreEstadoProducto'\n                          item-value='idEstadoProducto'\n                          v-model=\"editedItem.EstadoProducto\"\n                          label=\"Estado\"\n                          required>\n                      </v-select>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-form>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"close\">Cancelar</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"guardarProducto\">Guardar</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"dialogUnidadMedida\" max-width=\"500px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">Nueva unidad de medida</span>\n            </v-card-title>\n\n            <v-card-text>\n              <v-form>\n                <v-container>\n                  <v-row\n                    align=\"center\"\n                    justify=\"center\">\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        v-model=\"nuevoUM.NombreUnidadMedida\"\n                        label=\"Nombre\"\n                        required>\n                      </v-text-field>\n                    </v-col>\n                    <v-col cols=\"12\" sm=\"6\" md=\"6\">\n                      <v-text-field\n                        v-model=\"nuevoUM.AbreviacionUnidadMedida\"\n                        label=\"Abreviatura\"\n                        required>\n                      </v-text-field>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-form>\n            </v-card-text>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"cerrarDialogUM\">Cancelar</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"guardarUnidadMedida\">Guardar</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-toolbar>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-icon\n        small\n        class=\"mr-2\"\n        @click=\"editarProducto(item, item.idProducto)\"\n      >\n        mdi-pencil\n      </v-icon>\n      <v-icon\n        small\n        disabled\n        @click=\"eliminarProducto(item.idProducto)\"\n      >\n        mdi-delete\n      </v-icon>\n    </template>\n  </v-data-table>\n</template>\n        \n<script>\n\n    import axios from \"axios\";\n\n    export default {\n        data: () => ({\n          toggle_exclusive: undefined,\n          dialog: false,\n          dialogUnidadMedida: false,\n          headers: [\n            {\n              text: 'idProducto',\n              align: 'start',\n              sortable: false,\n              value: 'idProducto',\n            },\n            { text: 'Código', value: 'CodigoProducto' },\n            { text: 'Nombre del producto', value: 'NombreProducto' },\n            { text: 'Unidad de medida', value: 'idUnidadMedida' },\n            { text: 'Estado', value: 'EstadoProducto' },\n            { text: 'Actions', value: 'actions', sortable: false },\n          ],\n          datosTabla: [],\n          select: [],\n          datosUnidadMedida: [],\n          datosEstadoProducto: [{\n            idEstadoProducto: 1,\n            NombreEstadoProducto: 'Activo'\n          },\n          {\n            idEstadoProducto: 0,\n            NombreEstadoProducto: 'Inactivo'\n          }],\n          editedIndex: -1,\n          idProductoEditar: 0,\n          editarCodigo: false,\n          editedItem: {\n              CodigoProducto: '',\n              NombreProducto: '',\n              idUnidadMedida: '',\n              EstadoProducto: '',\n          },\n          defaultItem: {\n              CodigoProducto: '',\n              NombreProducto: '',\n              idUnidadMedida: '',\n              EstadoProducto: '',\n          },\n          nuevoUM: {\n              NombreUnidadMedida: '',\n              AbreviacionUnidadMedida: '',\n          },\n          defaultNuevoUM: {\n              NombreUnidadMedida: '',\n              AbreviacionUnidadMedida: '',\n          },\n        }),\n\n        computed: {\n          formTitle () {\n              return this.editedIndex === -1 ? 'Nuevo producto' : 'Editar producto'\n          },\n        },\n\n        watch: {\n          dialog (val) {\n              val || this.close()\n          },\n        },\n\n        created () {\n          this.initialize()\n        },\n\n        methods: {\n          initialize () {\n            axios\n                .get(\"http://localhost/sgo/api-sgo/public/productos\")\n                .then(response => {\n                    if(response.data.total != 0){\n                      this.datosTabla = response.data.detalle\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n              axios\n                .get(\"http://localhost/sgo/api-sgo/public/unidadesmedida\")\n                .then(response => {\n                    if(response.data.total != 0){\n                      this.datosUnidadMedida = response.data.detalle\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n          },\n\n          editarProducto (item, idProducto){\n            this.idProductoEditar = idProducto\n            this.editedIndex = this.datosTabla.indexOf(item)\n            this.editedItem = Object.assign({}, item)\n            if (this.editedIndex > -1){\n              this.editarCodigo = true\n            }else{\n              this.editarCodigo = false\n            }\n            this.dialog = true\n          },\n\n          eliminarProducto(id){\n            confirm('¿Está seguro que desea eliminar este producto?') && axios\n                .delete(\"http://localhost/sgo/api-sgo/public/productos/\" + id)\n                .then(function (response) {\n                    //console.log(response);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n          },\n\n          guardarProducto () {\n            // Si el valor del índice de edición es mayor al que se está editando entonces \n            if (this.editedIndex > -1) {\n              axios\n                .put(\"http://localhost/sgo/api-sgo/public/productos/\" + this.idProductoEditar,\n                     this.editedItem)\n                .then(function (response) {\n                    //console.log(response);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            } else {\n              axios\n                .post(\"http://localhost/sgo/api-sgo/public/productos\",\n                       this.editedItem)\n                .then(function (response) {\n                    //console.log(response);\n                    //this.initialize()\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            }\n            this.initialize()\n            this.close()\n          },\n\n          guardarUnidadMedida (){\n            axios\n                .post(\"http://localhost/sgo/api-sgo/public/unidadesmedida\",\n                       this.nuevoUM)\n                .then(function (response) {\n                    //console.log(response);\n                    //this.initialize()\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            this.initialize()\n            this.cerrarDialogUM()\n          },\n\n          cerrarDialogUM (){\n            this.dialogUnidadMedida = false\n            this.dialog = false\n              this.$nextTick(() => {\n                this.nuevoUM = Object.assign({}, this.defaultNuevoUM)\n              })\n          },\n\n          close () {\n              this.dialog = false\n              this.$nextTick(() => {\n                this.editedItem = Object.assign({}, this.defaultItem)\n                this.editedIndex = -1\n                this.idProductoEditar = 0\n              })\n          },\n        },\n    }\n</script>"]}]}